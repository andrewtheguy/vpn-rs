# tunnel-rs receiver configuration example
#
# Usage: tunnel-rs receiver -c receiver.toml iroh-default
#        tunnel-rs receiver --default-config iroh-default
#
# CLI arguments take precedence over config file values.

# Required: validates config matches CLI command
role = "receiver"
mode = "iroh-default"  # or "iroh-manual", "custom"

# Shared options (apply to all modes)
protocol = "tcp"  # "tcp" or "udp"
listen = "127.0.0.1:2222"

# STUN servers for iroh-manual and custom modes
stun_servers = [
    "stun.l.google.com:19302",
    "stun1.l.google.com:19302",
    "stun.services.mozilla.com:3478",
]

# iroh-default mode options
[iroh.default]
# NodeId of the sender to connect to (required for iroh-default)
node_id = "2xnbkpbc7izsilvewd7c62w7wnwziacmpfwvhcrya5nt76dqkpga"

# Custom relay server URL(s) for failover
# Must match the sender's relay configuration
relay_urls = [
    "https://relay1.example.com",
    "https://relay2.example.com",
]

# Force all connections through relay (disables direct P2P)
relay_only = false

# Custom DNS server URL for peer discovery
# Must match the sender's dns_server configuration
# NOTE: URL must include the /pkarr path
# dns_server = "https://dns.example.com/pkarr"
