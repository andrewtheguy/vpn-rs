# tunnel-rs receiver configuration example
#
# Usage: tunnel-rs receiver --config receiver.toml
#
# All options can be overridden by CLI arguments.
# CLI arguments take precedence over config file values.

# Protocol to tunnel: "tcp" or "udp"
protocol = "tcp"

# Manual mode (bypass discovery/relays)
manual = false

# STUN servers for manual mode (optional)
stun_servers = [
    "stun.l.google.com:19302",
    "stun1.l.google.com:19302",
    "stun.services.mozilla.com:3478",
]

# NodeId of the sender to connect to (required)
node_id = "2xnbkpbc7izsilvewd7c62w7wnwziacmpfwvhcrya5nt76dqkpga"

# Local address to listen on (required)
listen = "127.0.0.1:2222"

# Custom relay server URL(s) for failover
# Must match the sender's relay configuration
relay_urls = [
    "https://relay1.example.com",
    "https://relay2.example.com",
]

# Force all connections through relay (disables direct P2P)
# Requires relay_urls to be specified
relay_only = false

# Optional manual secret key (reserved for future use)
# manual_secret_key = ""

# Custom DNS server URL for peer discovery (optional)
# Used with self-hosted iroh-dns-server for fully independent operation
# Must match the sender's dns_server configuration
# NOTE: URL must include the /pkarr path
# dns_server = "https://dns.example.com/pkarr"
