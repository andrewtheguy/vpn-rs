[package]
name = "tunnel-rs"
version = "0.1.23-alpha"
edition = "2021"
description = "TCP/UDP port forwarding through iroh P2P connections"

[lib]
name = "tunnel_rs"
path = "src/lib.rs"

[[bin]]
name = "tunnel-rs"
path = "src/main.rs"

[[bin]]
name = "tunnel-signaling"
path = "src/bin/signaling.rs"

[features]
default = []
# Enable --relay-only CLI flag for testing. Requires iroh's test-utils feature.
# Build with: cargo build --features test-utils
test-utils = ["iroh/test-utils"]

[dependencies]
iroh = { version = "0.95.1", features = ["discovery-local-network"] }
tokio = { version = "1", features = ["full"] }
clap = { version = "4", features = ["derive"] }
anyhow = "1"
rand = "0.9"
base64 = "0.22"
serde = { version = "1", features = ["derive"] }
serde_json = "1"
crc32fast = "1"
toml = "0.8"
url = "2"
dirs = "6"
str0m = "0.14.2"
quinn = "0.11"
rustls = { version = "0.23", features = ["aws-lc-rs"] }
rcgen = "0.13"
stunclient = "0.4"
sha2 = "0.10"
get_if_addrs = "0.5"
nostr-sdk = "0.44.1"
hex = "0.4"
ipnet = "2"
log = "0.4"
env_logger = "0.11"
