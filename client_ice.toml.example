# tunnel-rs-ice client configuration example (ICE modes)
#
# Usage: tunnel-rs-ice client -c client_ice.toml
#        tunnel-rs-ice client --default-config
#
# Mode is inferred from the 'mode' field below.
# CLI arguments take precedence over config file values.
#
# This file is ICE-only. For iroh mode, see client.toml.example.

# Required: validates config matches CLI command
role = "client"
mode = "manual"  # or "nostr"

[manual]
# Client-initiated mode: request source from server, listen locally
# Source address to request from server (required if not specified via CLI --source)
# request_source = "tcp://127.0.0.1:22"
# Local address to listen on (required if not specified via CLI --target)
# target = "127.0.0.1:2222"
# Set to [] to disable STUN entirely
stun_servers = [
    "stun.l.google.com:19302",
    "stun1.l.google.com:19302",
]

# [nostr]
# Your Nostr private key (generate with: tunnel-rs-ice generate-nostr-key)
# Use either nsec or nsec_file (mutually exclusive; config validation will error if both are set)
# If using nsec_file, keep permissions tight (e.g., chmod 600) and do not commit to VCS.
# Relative paths are resolved from the process working directory, not the config file location.
# nsec = "nsec1..."
# nsec_file = "./nostr.nsec"
#
# Peer's Nostr public key
# peer_npub = "npub1..."
#
# Nostr relay URLs (defaults to public relays if not specified)
# relays = [
#     "wss://relay.damus.io",
#     "wss://nos.lol",
#     "wss://relay.primal.net",
#     "wss://nostr.mom",
#     "wss://relay.snort.social",
# ]
#
# Set to [] to disable STUN entirely
# stun_servers = [
#     "stun.l.google.com:19302",
#     "stun1.l.google.com:19302",
# ]
#
# Source address to request from server (required if not specified via CLI --source)
# Must be in server's allowed_sources list (--allowed-tcp or --allowed-udp)
# Can also use 'source' as an alias
# request_source = "tcp://127.0.0.1:22"
#
# Local address to listen on (required if not specified via CLI --target)
# target = "127.0.0.1:2222"
